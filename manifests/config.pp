# Configure phpwiki
class phpwiki::config {

  $install_path = "${::phpwiki::install_root}/phpwiki-${::phpwiki::version}"

  # BEGIN config.ini
  $include_path                           = $::phpwiki::include_path
  $debug                                  = $::phpwiki::debug
  $enable_edit_toolbar                    = $::phpwiki::enable_edit_toolbar
  $js_searchreplace                       = $::phpwiki::js_searchreplace
  $enable_doubleclickedit                 = $::phpwiki::enable_doubleclickedit
  $enable_wysiwyg                         = $::phpwiki::enable_wysiwyg
  $wysiwyg_backend                        = $::phpwiki::wysiwyg_backend
  $wysiwyg_default_pagetype_html          = $::phpwiki::wysiwyg_default_pagetype_html
  $upload_userdir                         = $::phpwiki::upload_userdir
  $disable_units                          = $::phpwiki::disable_units
  $units_exe                              = $::phpwiki::units_exe
  $enable_xhtml_xml                       = $::phpwiki::enable_xhtml_xml
  $enable_open_graph                      = $::phpwiki::enable_open_graph
  $enable_spamassassin                    = $::phpwiki::enable_spamassassin
  $enable_spamblocklist                   = $::phpwiki::enable_spamblocklist
  $num_spam_links                         = $::phpwiki::num_spam_links
  $disable_upload_only_allowed_extensions = $::phpwiki::disable_upload_only_allowed_extensions
  $google_links_nofollow                  = $::phpwiki::google_links_nofollow
  $enable_ajax                            = $::phpwiki::enable_ajax
  $enable_discussion_link                 = $::phpwiki::enable_discussion_link
  $enable_captcha                         = $::phpwiki::enable_captcha
  $use_captcha_random_word                = $::phpwiki::use_captcha_random_word
  $use_safe_dbsession                     = $::phpwiki::use_safe_dbsession
  $blog_default_empty_prefix              = $::phpwiki::blog_default_empty_prefix
  $enable_searchhighlight                 = $::phpwiki::enable_searchhighlight
  $enable_mailnotify                      = $::phpwiki::enable_mailnotify
  $enable_recentchangesbox                = $::phpwiki::enable_recentchangesbox
  $enable_page_public                     = $::phpwiki::enable_page_public
  $readonly                               = $::phpwiki::readonly
  $wiki_name                              = $::phpwiki::wiki_name
  $admin_user                             = $::phpwiki::admin_user
  $admin_passwd                           = $::phpwiki::admin_passwd
  $encrypted_passwd                       = $::phpwiki::encrypted_passwd
  $enable_reverse_dns                     = $::phpwiki::enable_reverse_dns
  $zipdump_auth                           = $::phpwiki::zipdump_auth
  $enable_raw_html                        = $::phpwiki::enable_raw_html
  $enable_raw_html_lockedonly             = $::phpwiki::enable_raw_html_lockedonly
  $enable_raw_html_safe                   = $::phpwiki::enable_raw_html_safe
  $disabled_actions                       = $::phpwiki::disabled_actions
  $insecure_actions_localhost_only        = $::phpwiki::insecure_actions_localhost_only
  $enable_moderatedpage_all               = $::phpwiki::enable_moderatedpage_all
  $access_log                             = $::phpwiki::access_log
  $access_log_sql                         = $::phpwiki::access_log_sql
  $compress_output                        = $::phpwiki::compress_output
  $cache_control                          = $::phpwiki::cache_control
  $cache_control_max_age                  = $::phpwiki::cache_control_max_age
  $wikidb_nocache_markup                  = $::phpwiki::wikidb_nocache_markup
  $cookie_expiration_days                 = $::phpwiki::cookie_expiration_days
  $cookie_domain                          = $::phpwiki::cookie_domain
  $session_save_path                      = $::phpwiki::session_save_path
  $use_db_session                         = $::phpwiki::use_db_session
  $database_type                          = $::phpwiki::database_type
  $database_prefix                        = $::phpwiki::database_prefix
  $database_dsn                           = $::phpwiki::database_dsn
  $database_persistent                    = $::phpwiki::database_persistent
  $database_session_table                 = $::phpwiki::database_session_table
  $database_directory                     = $::phpwiki::database_directory
  $database_dba_handler                   = $::phpwiki::database_dba_handler
  $database_timeout                       = $::phpwiki::database_timeout
  $database_optimise_frequency            = $::phpwiki::database_optimise_frequency
  $dbadmin_user                           = $::phpwiki::dbadmin_user
  $dbadmin_passwd                         = $::phpwiki::dbadmin_passwd
  $usecache                               = $::phpwiki::usecache
  $major_min_keep                         = $::phpwiki::major_min_keep
  $minor_min_keep                         = $::phpwiki::minor_min_keep
  $major_max_age                          = $::phpwiki::major_max_age
  $major_keep                             = $::phpwiki::major_keep
  $minor_max_age                          = $::phpwiki::minor_max_age
  $minor_keep                             = $::phpwiki::minor_keep
  $author_max_age                         = $::phpwiki::author_max_age
  $author_keep                            = $::phpwiki::author_keep
  $author_min_age                         = $::phpwiki::author_min_age
  $author_max_keep                        = $::phpwiki::author_max_keep
  $allow_anon_user                        = $::phpwiki::allow_anon_user
  $allow_anon_edit                        = $::phpwiki::allow_anon_edit
  $allow_bogo_login                       = $::phpwiki::allow_bogo_login
  $allow_user_passwords                   = $::phpwiki::allow_user_passwords
  $user_auth_order                        = $::phpwiki::user_auth_order
  $enable_auth_openid                     = $::phpwiki::enable_auth_openid
  $password_length_minimum                = $::phpwiki::password_length_minimum
  $user_auth_policy                       = $::phpwiki::user_auth_policy
  $enable_pageperm                        = $::phpwiki::enable_pageperm
  $ldap_auth_host                         = $::phpwiki::ldap_auth_host
  $ldap_base_dn                           = $::phpwiki::ldap_base_dn
  $ldap_set_option                        = $::phpwiki::ldap_set_option
  $ldap_auth_user                         = $::phpwiki::ldap_auth_user
  $ldap_auth_password                     = $::phpwiki::ldap_auth_password
  $ldap_search_field                      = $::phpwiki::ldap_search_field
  $ldap_search_filter                     = $::phpwiki::ldap_search_filter
  $ldap_ou_users                          = $::phpwiki::ldap_ou_users
  $ldap_ou_group                          = $::phpwiki::ldap_ou_group
  $imap_auth_host                         = $::phpwiki::imap_auth_host
  $pop3_auth_host                         = $::phpwiki::pop3_auth_host
  $pop3_auth_port                         = $::phpwiki::pop3_auth_port
  $auth_user_file                         = $::phpwiki::auth_user_file
  $auth_user_file_storable                = $::phpwiki::auth_user_file_storable
  $auth_sess_user                         = $::phpwiki::auth_sess_user
  $auth_sess_level                        = $::phpwiki::auth_sess_level
  $group_method                           = $::phpwiki::group_method
  $category_group_page                    = $::phpwiki::category_group_page
  $auth_group_file                        = $::phpwiki::auth_group_file
  $dbauth_auth_dsn                        = $::phpwiki::dbauth_auth_dsn
  $dbauth_auth_user_exists                = $::phpwiki::dbauth_auth_user_exists
  $dbauth_auth_check                      = $::phpwiki::dbauth_auth_check
  $dbauth_auth_crypt_method               = $::phpwiki::dbauth_auth_crypt_method
  $dbauth_auth_update                     = $::phpwiki::dbauth_auth_update
  $dbauth_auth_create                     = $::phpwiki::dbauth_auth_create
  $dbauth_pref_select                     = $::phpwiki::dbauth_pref_select
  $dbauth_pref_update                     = $::phpwiki::dbauth_pref_update
  $dbauth_pref_insert                     = $::phpwiki::dbauth_pref_insert
  $theme                                  = $::phpwiki::theme
  $default_language                       = $::phpwiki::default_language
  $wiki_pgsrc                             = $::phpwiki::wiki_pgsrc
  $default_wiki_pgsrc                     = $::phpwiki::default_wiki_pgsrc
  $default_wiki_pages                     = $::phpwiki::default_wiki_pages
  $allowed_protocols                      = $::phpwiki::allowed_protocols
  $inline_images                          = $::phpwiki::inline_images
  $wiki_name_regexp                       = $::phpwiki::wiki_name_regexp
  $interwiki_map_file                     = $::phpwiki::interwiki_map_file
  $warn_nonpublic_interwikimap            = $::phpwiki::warn_nonpublic_interwikimap
  $keywords                               = $::phpwiki::keywords
  $copyrightpage_title                    = $::phpwiki::copyrightpage_title
  $copyrightpage_url                      = $::phpwiki::copyrightpage_url
  $authorpage_title                       = $::phpwiki::authorpage_title
  $authorpage_url                         = $::phpwiki::authorpage_url
  $toc_full_syntax                        = $::phpwiki::toc_full_syntax
  $enable_markup_color                    = $::phpwiki::enable_markup_color
  $disable_markup_wikiword                = $::phpwiki::disable_markup_wikiword
  $enable_markup_divspan                  = $::phpwiki::enable_markup_divspan
  $server_name                            = $::phpwiki::server_name
  $server_port                            = $::phpwiki::server_port
  $server_protocol                        = $::phpwiki::server_protocol
  $script_name                            = $::phpwiki::script_name
  $data_path                              = $::phpwiki::data_path
  $phpwiki_dir                            = $::phpwiki::phpwiki_dir
  $use_path_info                          = $::phpwiki::use_path_info
  $virtual_path                           = $::phpwiki::virtual_path
  $upload_file_path                       = $::phpwiki::upload_file_path
  $upload_data_path                       = $::phpwiki::upload_data_path
  $temp_dir                               = $::phpwiki::temp_dir
  $allowed_load                           = $::phpwiki::allowed_load
  $strict_mailable_pagedumps              = $::phpwiki::strict_mailable_pagedumps
  $default_dump_dir                       = $::phpwiki::default_dump_dir
  $html_dump_dir                          = $::phpwiki::html_dump_dir
  $html_dump_suffix                       = $::phpwiki::html_dump_suffix
  $max_upload_size                        = $::phpwiki::max_upload_size
  $minor_edit_timeout                     = $::phpwiki::minor_edit_timeout
  $recent_changes                         = $::phpwiki::recent_changes
  $disable_http_redirect                  = $::phpwiki::disable_http_redirect
  $disable_getimagesize                   = $::phpwiki::disable_getimagesize
  $editing_policy                         = $::phpwiki::editing_policy
  $fortune_dir                            = $::phpwiki::fortune_dir
  $toolbar_pagelink_pulldown              = $::phpwiki::toolbar_pagelink_pulldown
  $toolbar_template_pulldown              = $::phpwiki::toolbar_template_pulldown
  $toolbar_image_pulldown                 = $::phpwiki::toolbar_image_pulldown
  $fulltextsearch_stoplist                = $::phpwiki::fulltextsearch_stoplist
  $google_license_key                     = $::phpwiki::google_license_key
  $use_external_html2pdf                  = $::phpwiki::use_external_html2pdf
  $external_html2pdf_pagelist             = $::phpwiki::external_html2pdf_pagelist
  $babycart_path                          = $::phpwiki::babycart_path
  $rateit_imgprefix                       = $::phpwiki::rateit_imgprefix
  $graphviz_exe                           = $::phpwiki::graphviz_exe
  $ttfont                                 = $::phpwiki::ttfont
  $visualwikifont                         = $::phpwiki::visualwikifont
  $visualwiki_allowoptions                = $::phpwiki::visualwiki_allowoptions
  $ploticus_exe                           = $::phpwiki::ploticus_exe
  $ploticus_prefabs                       = $::phpwiki::ploticus_prefabs
  $my_jabber_id                           = $::phpwiki::my_jabber_id
  $phpweather_base_dir                    = $::phpwiki::phpweather_base_dir
  $plugin_cached_database                 = $::phpwiki::plugin_cached_database
  $plugin_cached_cache_dir                = $::phpwiki::plugin_cached_cache_dir
  $plugin_cached_filename_prefix          = $::phpwiki::plugin_cached_filename_prefix
  $plugin_cached_highwater                = $::phpwiki::plugin_cached_highwater
  $plugin_cached_maxlifetime              = $::phpwiki::plugin_cached_maxlifetime
  $plugin_cached_maxarglen                = $::phpwiki::plugin_cached_maxarglen
  $plugin_cached_usecache                 = $::phpwiki::plugin_cached_usecache
  $plugin_cached_force_syncmap            = $::phpwiki::plugin_cached_force_syncmap
  $plugin_cached_imgtypes                 = $::phpwiki::plugin_cached_imgtypes
  # END config.ini

  file { "${install_path}/config/config.ini":
    content => template('phpwiki/config.ini.erb'),
    owner   => $::phpwiki::owner,
    group   => $::phpwiki::group,
    mode    => '0640',
  }

}